IF (NOT BLITZ_CONFIG_FILE)
    IF (${CMAKE_CXX_COMPILER} MATCHES ".*xlc[+][+].*")
        SET(BZ_CONFIG_FILE "apple")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*cl.*")
        SET(BZ_CONFIG_FILE "ms")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*icpc.*|.*icc.*")
        SET(BZ_CONFIG_FILE "intel")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*xlC.*")
        SET(BZ_CONFIG_FILE "ibm")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*cxx.*")
        SET(BZ_CONFIG_FILE "compaq")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*aCC.*")
        SET(BZ_CONFIG_FILE "hp")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*g[+][+].*|.*c[+][+].*")
        SET(BZ_CONFIG_FILE "gnu")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*KCC.*")
        SET(BZ_CONFIG_FILE "kai")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*pgCC.*")
        SET(BZ_CONFIG_FILE "pgi")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*pathCC.*")
        SET(BZ_CONFIG_FILE "pathscale")
    ELSEIF (${CMAKE_CXX_COMPILER} MATCHES ".*CC.*")
        IF (${CMAKE_SYSTEM_NAME} MATCHES ".*sgi.*")
            SET(BZ_CONFIG_FILE "sgi")
        ELSEIF (${CMAKE_SYSTEM_NAME} MATCHES ".*solaris.*")
            SET(BZ_CONFIG_FILE "sun")
        ELSEIF (${CMAKE_SYSTEM_NAME} MATCHES ".*cray.*")
            SET(BZ_CONFIG_FILE "cray")
        ELSEIF (${CMAKE_SYSTEM_NAME} MATCHES ".*fujitsu.*")
            SET(BZ_CONFIG_FILE "fujitsu")
        ENDIF()
    ENDIF()

    SET(BLITZ_CONFIG_INSTALL_DIR ${BZ_CONFIG_FILE})
    SET(BLITZ_CONFIG_DIR "${CMAKE_CURRENT_BINARY_DIR}/blitz/${BZ_CONFIG_FILE}")
    FILE(MAKE_DIRECTORY ${BLITZ_CONFIG_DIR})
    SET(BLITZ_CONFIG_FILE "${BLITZ_CONFIG_DIR}/bzconfig.h")
ENDIF()
